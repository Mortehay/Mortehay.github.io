function styleFunction(feature,resolution){var style,geom=feature.getGeometry();if("Point"==geom.getType()){var text=feature.get("name");baseTextStyle.text=text,style=defaultPointStyle}else style=newPointStyle;return[style]}var centerPoint=[{lon:33.299560546875,lat:48.545705491847464,zoom:6}],defaultPointStyle=new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"white"}),stroke:new ol.style.Stroke({color:[101,95,90,1],width:1})})}),newPointStyle=new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"red"}),stroke:new ol.style.Stroke({color:[181,25,90,1],width:1})})}),osmLayer=new ol.layer.Tile({source:new ol.source.OSM({layer:"osm"}),name:"OSM"}),testPoints=new ol.layer.Vector({source:new ol.source.Vector({url:"https://api.myjson.com/bins/403w3",extractStyles:!1,projection:"EPSG:3857",format:new ol.format.GeoJSON}),id:"srm",name:"testPoints",style:defaultPointStyle}),selectInteraction=new ol.interaction.Select({condition:ol.events.condition.singleClick,toggleCondition:ol.events.condition.shiftKeyOnly,layers:function(layer){return"srm"==layer.get("id")},style:newPointStyle}),map=new ol.Map({target:"map",renderer:"canvas",layers:[osmLayer,testPoints],view:new ol.View({center:ol.proj.transform([centerPoint[0].lon,centerPoint[0].lat],"EPSG:4326","EPSG:3857"),zoom:centerPoint[0].zoom})});map.getInteractions().extend([selectInteraction]);var featureOverlay=new ol.FeatureOverlay({map:map,style:styleFunction});map.on("pointermove",function(browserEvent){featureOverlay.getFeatures().clear();var coordinate=browserEvent.coordinate,pixel=browserEvent.pixel;map.forEachFeatureAtPixel(pixel,function(feature,layer){if(layer){var point,geometry=feature.getGeometry();switch(geometry.getType()){case"MultiPolygon":var poly=geometry.getPolygons().reduce(function(left,right){return left.getArea()>right.getArea()?left:right});point=poly.getInteriorPoint().getCoordinates();break;case"Polygon":point=geometry.getInteriorPoint().getCoordinates();break;default:point=geometry.getClosestPoint(coordinate)}textFeature=new ol.Feature({geometry:new ol.geom.Point(point),text:feature.get("name")}),featureOverlay.addFeature(textFeature),featureOverlay.addFeature(feature)}})}),$(document).ready(function(){}),function($){}(jQuery);